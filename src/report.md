## Part 1. Установка ОС
1. Установил VirtualBox,создал новую виртуальную машину,
скачал образ диска Ubunty и установил данную ОС
![linux](misc/images/sreen1.jpeg)

## Part 2. Создание пользователя
1. Вызов команды для создания нового пользователя

![linux](misc/images/sreen2.jpeg)

2. Команда для добавления пользователя в адм

![linux](misc/images/sreen3.jpeg)

3. Вывод команды cat /etc/passwd (новый пользователь в самом конце)

![linux](misc/images/sreen4.jpeg)

## Part 3. Настройка сети ОС
1. Задать название машины вида user-1
Выполняем команду sudo vim /etc/hostname
В открывшимся окне меняем имя машины на user-1
Далее это же проделываем в файле /etc/hosts

2. Установить временную зону, соответствующую вашему текущему местоположению.

Выполнить команду sudo timedatectl set-timezone Europe/Moscow

Для проверки выполнить команду timedatectl

3. Вывести названия сетевых интерфейсов с помощью консольной команды.
Вывожу используя команду ifconfig

![linux](misc/images/sreen5.jpeg)

lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost.

4. Используя консольную команду получить ip адрес устройства, на котором вы работаете, от DHCP сервера.

Использую команду ip addr show. Раздел относящийся к моему сетевому интерфейсу - это раздел enp0s3.В это разделе есть строка inet с моим IP адрессом, полученным от DHCP сервера

![linux](misc/images/sreen6.jpeg)


DHCP (англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла) — сетевой протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP.

5. Определить и вывести на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw).

Для определения внешнего ip-адрес шлюза curl -s ipinfo.io/ip

Для определения внуреннего ip-адресс шлюза ip route | grep default | awk '{print $3}'

Внутренний (локальный) IP — это IP-адрес, который выдается компьютеру в пределах внутренней локальной сети. 

Внешний IP-адрес вы получаете от вашего провайдера.

![linux](misc/images/sreen7.jpeg)

6. Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).

Открываем файл конфигурации netplan для редактирования, через vim

sudo vim /etc/netplan/00-installer-config.yaml 

и изменяем его содержимое на 

![linux](misc/images/sreen8.jpeg)

Примените новые настройки с помощью команды:
sudo netplan apply

Проверяем с помощью ifconfig

7. Перезапускаем машину с помощью команды sudo reboot

Проверяем с помощью ifconfig статичные сетевые настройки

Пингуем удаленные хосты

![linux](misc/images/sreen9.jpeg)

![linux](misc/images/sreen10.jpeg)

## Part 4. Обновление ОС
1. Выполнить команду sudo apt-get update
2. Выполнить команду sudo apt-get upgrade

![linux](misc/images/speen11.jpeg)

## Part 5. Использование команды sudo
1. Выполним команду usermod -aG sudo newuser от имени пользователя sudo.

2. Что бы убедиться что наш пользователь получил sudo права выполним команду sudo whoami от имену newuser

![linux](misc/images/sreen12.jpeg)

3. Изменим hostname ОС от имени newuser как это было писано в Part 3

![linux](misc/images/sreen13.jpeg)

4. Истинное назначение команды sudo заключается в том, чтобы предоставить временный доступ к привилегированным командам и операциям только тем пользователям, которые имеют соответствующие права доступа. Это позволяет уменьшить риск ошибок и повреждения системы, связанных с выполнением команд от имени суперпользователя.

## Part 6. Установка и настройка службы времени
1. Устанавлиеваем пакет ntp, который содержит клиент NTP для синхронизации времени:
sudo apt install ntp

2. Редактируем файл конфигурации sudo vim /etc/ntp.conf и в конце добавить все NTP-сервера

![linux](misc/images/screen14.jpeg)

3. Перезапускаем службу NTP для применения изменений в конфигурации: sudo systemctl restart ntp

4. Включаем службу NTP, чтобы она запускалась автоматически при загрузке системы: sudo systemctl enable ntp

5. Выполняем проверку с помощьюоманды timedatectl show

![linux](misc/images/screen15.jpeg) {width=40px height=400px}

## Part 7. Установка и использование текстовых редакторов

### VIM

1. Для выхода с сохранением вначале нажал esc, затем :, далее x и enter

![linux](misc/images/scree16.jpeg) 

2. Для закрытия без сохранения q!

![linux](misc/images/screen17.jpeg)

3. Для поиска используем /слово которое ищим

4. Для изменения слова на другое используем конструкцию :%s/старое_слово/новое_слово/g

![linux](misc/images/screen18.jpeg)

![linux](misc/images/screen19.jpeg)

### NANO

1. Для выхода с сохранением нажимаю Ctrl+X, далее нажмимаю клавишу Y, появится вопрос на ввод имени файла. Можно ввести новое имя файла или оставьте старое и нажать Enter. 

![linux](misc/images/screen20.jpeg)

2. Для закрытия без сохранения нажимаю Ctrl+X, далее нажмимаю клавишу N

![linux](misc/images/screen21.jpeg)

3. Для поиска используем сочетание клавиш Ctrl+W, далее вводим строку поиска и нажмите Enter. Курсов переместиться на первое вхождение (относительно курсора) искомого текста, чтобы проложить поиск, нажмём сочетание клавиш Alt+W и курсор переместиться к следующему вхождению.

4. Чтобы найти и заменить какой-либо текст внутри файла, нажимаем Ctrl+ \ . После его нажатия появится запрос на ввод текста который нужно найти и заменить, вводим его и нажмите Enter. Далее нужно ввести текст на который надо заменить, вводим его и нажмите Enter.

![linux](misc/images/screen22.jpeg)

![linux](misc/images/screen23.jpeg)

### MCEDIT

1. Для выхода с сохранением вначале нажал f2 для сохранения, затем f10 для выхода 

![linux](misc/images/screen24.jpeg)

2. Для закрытия без сохранения нажимаю f10

![linux](misc/images/screen25.jpeg)

3. Для поиска нажимаю f7

![linux](misc/images/screen26.jpeg)

![linux](misc/images/screen27.jpeg)

4. Для замены нажимаю f4

![linux](misc/images/screen28.jpeg)

## Part 8. Установка и базовая настройка сервиса SSHD

1. Устанавливаем службу SSHD командой : sudo apt-get install openssh-server

2. Добавляем в список автозагрузок : sudo systemctl enable ssh

3. Для перенастройки порта SSHd на порт 2022, нужно в файле /etc/ssh/sshd_config раскоментировать строку с портом и изменить его на 2022.

![linux](misc/images/screen29.jpeg)

4. Для проверки наличия процесса sshd можно использовать команду ps aux | grep sshd (a - выбрать все процессы, кроме фоновых; u - выбрать процессы пользователя; x - вывод дополнительной информации о каждом процессе )

![linux](misc/images/sreen30.jpeg)

5. netstat -tan 
t - отображает только TCP-соединения;a - выводит все активные соединения, включая прослушивающие порты;n - отображает числовые IP-адреса и порты вместо их именных значений.

![linux](misc/images/screen31.jpeg)

tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN


Это означает, что на компьютере запущен TCP-сервер, который прослушивает входящие соединения на порту 2022. Адрес 0.0.0.0 означает, что сервер прослушивает соединения на всех доступных сетевых интерфейсах компьютера. Состояние "LISTEN" означает, что сервер готов принимать входящие соединения на указанном порту.

Recv-Q и Send-Q: количество байтов данных, ожидающих отправки или получения.

Foreign Address: адрес удаленного узла, с которым установлено соединение. В нешний адрес 0.0.0.0 означает, что никто не подключился 

## Part 9. Установка и использование утилит top, htop

### TOP

![linux](misc/images/screen32.jpeg)

1. uptime 8 min

2. users 1 кол-во авторизованных пользователей 

3. load average — средняя загруженность системы одну минуту назад, пять и 15 соответственно.(в моем случае это 0; 0.05; 0.03)

4. total — общее количество процессов в системе (105 в моем случае)

5. Третья строка - статистика использования центрального процессора (cpu)
us — процент использования центрального процессора пользовательскими процессам;
sy — процент использования центрального процессора системными процессами;
ni — процент использования центрального процессора процессами с приоритетом, повышенным при помощи вызова;
id — процент времени, когда центральный процессор не используется;
wa — процент использования центрального процессора процессами, ожидающими завершения операций ввода-вывода;
hi - Hardware IRQ (аппаратные прерывания) — процент использования центрального процессора обработчиками аппаратных прерываний;
si - Software Interrupts (программные прерывания) — процент использования центрального процессора обработчиками программных прерываний;
st - Steal Time (заимствованное время) — количество ресурсов центрального процессора "заимствованных" у виртуальной машины гипервизором для других задач (таких, как запуск другой виртуальной машины); 

6. В четвертой и пятой строке выводится информация об использовании физической оперативной памяти и раздела подкачки соответственно (swap).

7. pid процесса занимающего больше всего памяти

Чтобы выполнить в top сортировку по памяти (%MEM), достаточно ввести Shift+M в режиме работы команды top.

![linux](misc/images/screen33.jpeg)

8. pid процесса, занимающего больше всего процессорного времени

Базовая сортировка данных осуществляется по уровню использования времени ЦПУ, оно же %CPU.

![linux](misc/images/screen34.jpeg)

### HTOP

1. Сортировка по PID, PERCENT_CPU, PERCENT_MEM, TIME

![linux](misc/images/screen35.jpeg)

![linux](misc/images/screen36.jpeg)

![linux](misc/images/screen37.jpeg)

![linux](misc/images/screen38.jpeg)

2. Отфильтровать для процесса sshd

![linux](misc/images/screen39.jpeg)

3. Поиск процесса syslog, используя поиск

![linux](misc/images/screen40.png)

4. Добавление вывода hostname, clock и uptime

![linux](misc/images/screen41.jpeg)

## Part 10. Использование утилиты fdisk

1. Название диска /dev/sda. Размер 19.97 гигабайт. Секторов 41831776

![linux](misc/images/screen42.jpeg)

![linux](misc/images/screen43.jpeg)

2. swap

![linux](misc/images/screen44.jpeg)

## Part 11. Использование утилиты df
1. Единица измерения килобайты

![linux](misc/images/screen445.jpeg)

2. Тип файловой системы для раздела ext4

![linux](misc/images/screen45.jpeg)

## Part 12. Использование утилиты du

1. Что бы вывести резмер в байтах испольую ключ -b

s - ключ вывода только общего размера

h - выводить размер в единицах измерения удобных для человека

Вывод в байтах

![linux](misc/images/screen46.jpeg)

![linux](misc/images/screen47.jpeg)

![linux](misc/images/screen48.jpeg)

Вывод в человекочитаемом виде

![linux](misc/images/screen49.jpeg)

![linux](misc/images/screen50.jpeg)

![linux](misc/images/screen51.jpeg)

2. Вывод размера всего содержимого в /var/log 

![linux](misc/images/screen52.jpeg)

## Part 13. Установка и использование утилиты ncdu

![linux](misc/images/screen53.jpeg)

![linux](misc/images/screen54.jpeg)

![linux](misc/images/screen55.jpeg)

## Part 14. Работа с системными журналами

1. время последней успешной авторизации 23 декабря 10:21, имя пользователя egor и метод входа в систему LOGIN .

LOGIN - это один из методов авторизации в Linux, который позволяет пользователю войти в систему, используя свой логин и пароль. Этот метод авторизации обычно используется при входе в систему через терминал или консоль.

![linux](misc/images/screen56.jpeg)

2. Сообщение о рестарте службы sshd

![linux](misc/images/screen57.jpeg)

## Part 15. Использование планировщика заданий CRON

1. Добавляем в планировщик задач ( crontab -e ) задачу запустить команду uptime через каждые 2 минуты (*/2 * * * * uptime)

![linux](misc/images/screen58.jpeg)

2. Выведем список задач

![linux](misc/images/screen67.jpeg)

3. Удаляем файл с задачами ( crontab -r )

![linux](misc/images/screen59.jpeg)

